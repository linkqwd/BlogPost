(window.webpackJsonpBlogPost=window.webpackJsonpBlogPost||[]).push([[0],{42:function(n,t,e){n.exports=e(54)},54:function(n,t,e){"use strict";e.r(t);var r=e(0),o=e.n(r),a=e(17),c=e.n(a),i=e(18),u=e(19),s=e(22),p=e(21),l=e(23),f=e(13),m="https://simple-blog-api.crew.red/comments",d=e(2),b=e(1);function h(){var n=Object(d.a)(["\n  display: inline-block;\n  & a {\n    display: block;\n    color: #fff;\n    text-decoration: none;\n    font-size: 14px;\n    padding: 5px 15px;\n    background: #4b79a1;\n    border-radius: 3px;\n    transition: all 0.2s ease-in-out;\n\n    &:hover {\n      background: #2d8fe3;\n    }\n  }\n"]);return h=function(){return n},n}var v=b.default.div(h());function E(){var n=Object(d.a)(["\n  font-style: italic;\n  margin-bottom: 10px;\n"]);return E=function(){return n},n}var g=b.default.h2(E());function O(){var n=Object(d.a)(["\n  font-weight: 500;\n  margin-bottom: 10px;\n\n  & a {\n    color: #333;\n    text-decoration: none;\n    transition: all 0.2s ease-in-out;\n\n    &:hover {\n      color: #2d8fe3;\n    }\n  }\n"]);return O=function(){return n},n}var x=b.default.h2(O());function y(){var n=Object(d.a)(["\n  margin-bottom: 15px;\n  padding-bottom: 15px;\n  border-bottom: 1px solid #ccc;\n"]);return y=function(){return n},n}var j=b.default.section(y());function w(){var n=Object(d.a)([""]);return w=function(){return n},n}var T=b.default.article(w());function P(){var n=Object(d.a)(["\n  margin-bottom: 10px;\n"]);return P=function(){return n},n}var k=b.default.p(P());function C(){var n=Object(d.a)(["\n  padding: 15px;\n  background: #f7f7f7;\n  border-radius: 3px;\n  margin-bottom: 12px;\n"]);return C=function(){return n},n}var _=b.default.p(C()),S=function(n){return o.a.createElement(T,null,n.postsList.map(function(n,t){return o.a.createElement(j,{key:n.id+t},o.a.createElement(x,null,o.a.createElement(f.b,{to:"".concat("/post/").concat(n.id)},n.title)),o.a.createElement(k,null,"Date: ",n.date||"Unknown"),o.a.createElement(g,null,"Creator: ",n.creator||"anonymous"),o.a.createElement(_,null,n.body),o.a.createElement(v,null,o.a.createElement(f.b,{to:"".concat("/post/").concat(n.id)},"See more")))}))},A=function(n){return o.a.createElement("div",null," ",n.message?n.message:"No such page")},F=e(12),D=e(16),I=e.n(D),L=e(30),N=function(n){return fetch(n).then(function(n){if(404!==n.status)return n.json();throw new Error("Error: ".concat(n.status))})},G=function(n,t){return fetch(n,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(t)})},V=function(n,t){return{type:n,payload:t}},z=function(n){function t(){return Object(i.a)(this,t),Object(s.a)(this,Object(p.a)(t).apply(this,arguments))}return Object(l.a)(t,n),Object(u.a)(t,[{key:"componentDidMount",value:function(){this.props.fetchLatestPosts()}},{key:"render",value:function(){return this.props.isError404?o.a.createElement(A,{message:this.props.isError404.message}):o.a.createElement(S,{postsList:this.props.posts})}}]),t}(o.a.Component),B={fetchLatestPosts:function(){return function(){var n=Object(L.a)(I.a.mark(function n(t){var e;return I.a.wrap(function(n){for(;;)switch(n.prev=n.next){case 0:return n.prev=0,n.next=3,N("https://simple-blog-api.crew.red/posts");case 3:e=n.sent,t(V("GET_LATEST_POSTS_ACTION",e)),n.next=10;break;case 7:n.prev=7,n.t0=n.catch(0),t(V("GET_POST_ACTION_FAILED",n.t0));case 10:case"end":return n.stop()}},n,null,[[0,7]])}));return function(t){return n.apply(this,arguments)}}()}},M=Object(F.b)(function(n){return{posts:n.posts,isError404:n.isError404}},B)(z);function U(){var n=Object(d.a)([""]);return U=function(){return n},n}var J=b.default.article(U());function R(){var n=Object(d.a)(["\n  margin-bottom: 15px;\n  font-size: 22px;\n"]);return R=function(){return n},n}var q=b.default.header(R());function H(){var n=Object(d.a)(["\n  margin-bottom: 25px;\n"]);return H=function(){return n},n}var K=b.default.p(H());function Q(){var n=Object(d.a)(["\n  background: #f7f7f7;\n  padding: 10px;\n  border-radius: 3px;\n\n  & span {\n    font-style: italic;\n    font-size: 14px;\n    display: block;\n    margin-bottom: 6px;\n  }\n\n  & + & {\n    margin-top: 15px;\n  }\n"]);return Q=function(){return n},n}var W=b.default.p(Q()),X=function(n){if(!n.postView)return null;var t=n.postView,e=t.title,r=t.body,a=t.comments;return o.a.createElement(J,null,o.a.createElement(q,null,o.a.createElement("h2",null,e)),o.a.createElement(K,null,r),a?a.map(function(n,t){return o.a.createElement(W,{key:t},o.a.createElement("span",null,"Comment: "),n.body||n.comment)}):null)};function Y(){var n=Object(d.a)(["\n  margin-top: 20px;\n"]);return Y=function(){return n},n}var Z=b.default.div(Y());function $(){var n=Object(d.a)(["\n  display: block;\n  margin-top: 10px;\n  cursor: pointer;\n  color: #fff;\n  border: none;\n  text-decoration: none;\n  font-size: 14px;\n  padding: 8px 20px;\n  background: #4b79a1;\n  border-radius: 3px;\n  transition: all 0.2s ease-in-out;\n\n  &:hover {\n    background: #2d8fe3;\n  }\n"]);return $=function(){return n},n}var nn=b.default.button($()),tn=function(n){return o.a.createElement(Z,null,o.a.createElement("form",{onSubmit:n.onSubmit},o.a.createElement("textarea",{rows:5,cols:40,onChange:function(t){return n.onChange(t.target.value)},value:n.value}),o.a.createElement(nn,{type:"submit"},"Submit")))},en=function(n){function t(){var n,e;Object(i.a)(this,t);for(var r=arguments.length,o=new Array(r),a=0;a<r;a++)o[a]=arguments[a];return(e=Object(s.a)(this,(n=Object(p.a)(t)).call.apply(n,[this].concat(o)))).handleSubmit=function(n){if(n.preventDefault(),!e.props.newCommentField)return null;var t={postId:+e.props.match.params.postid,body:e.props.newCommentField};G(m,t).then(function(){e.props.updateCommentFieldUnderPost(""),e.props.fetchPost(e.props.match.params.postid)})},e}return Object(l.a)(t,n),Object(u.a)(t,[{key:"componentDidMount",value:function(){this.props.fetchPost(this.props.match.params.postid)}},{key:"render",value:function(){return this.props.isError404?o.a.createElement(A,{message:this.props.isError404.message}):o.a.createElement(o.a.Fragment,null,o.a.createElement(X,{postView:this.props.postView}),o.a.createElement(tn,{onChange:this.props.updateCommentFieldUnderPost,onSubmit:this.handleSubmit,value:this.props.newCommentField}))}}]),t}(o.a.Component),rn={fetchPost:function(n){return function(){var t=Object(L.a)(I.a.mark(function t(e){var r;return I.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,N("".concat("https://simple-blog-api.crew.red/posts/").concat(n).concat("?_embed=comments"));case 3:r=t.sent,e(V("GET_POST_ACTION",r)),t.next=10;break;case 7:t.prev=7,t.t0=t.catch(0),e(V("GET_POST_ACTION_FAILED",t.t0));case 10:case"end":return t.stop()}},t,null,[[0,7]])}));return function(n){return t.apply(this,arguments)}}()},updateCommentFieldUnderPost:function(n){return{type:"UPDATE_COMMENT_FIELD",payload:n}}},on=Object(F.b)(function(n){return{postView:n.postView,isError404:n.isError404,newCommentField:n.newCommentField}},rn)(en);function an(){var n=Object(d.a)(["\n  font-size: 24px;\n  font-weight: 500;\n  padding-bottom: 20px;\n  margin-bottom: 20px;\n  border-bottom: 1px solid #ccc;\n\n  & a {\n    text-decoration: none;\n    color: #333;\n    transition: all 0.2s ease-in-out;\n\n    &:hover {\n      color: #2d8fe3;\n    }\n    &:active {\n      color: #2d8fe3;\n    }\n  }\n"]);return an=function(){return n},n}var cn=b.default.h1(an()),un=e(10),sn=function(){return o.a.createElement(f.a,{basename:"/BlogPost"},o.a.createElement(cn,null,o.a.createElement(f.b,{to:"/"},"Blog post")),o.a.createElement(un.c,null,o.a.createElement(un.a,{path:"/",exact:!0,component:M}),o.a.createElement(un.a,{path:"/post/:postid",component:on}),o.a.createElement(un.a,{component:A})))},pn=e(37);function ln(){var n=Object(d.a)(["\n  ","\n\n  body {\n    padding: 25px;\n    background: #4B79A1;\n    background: linear-gradient(to right, #283E51, #4B79A1);\n  }\n\n  #root {\n    max-width: 960px;\n    margin: 0 auto;\n    padding: 30px;\n    box-sizing: border-box;\n    font-size: 16px;\n    line-height: 1.4;\n    font-family: 'Roboto', sans-serif;\n    color: #222;\n    background: #fff;\n    border-radius: 3px\n  }\n\n"]);return ln=function(){return n},n}var fn=Object(b.createGlobalStyle)(ln(),pn.reset),mn=e(15),dn=e(38);function bn(n,t){var e=Object.keys(n);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(n);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(n,t).enumerable})),e.push.apply(e,r)}return e}function hn(n){for(var t=1;t<arguments.length;t++){var e=null!=arguments[t]?arguments[t]:{};t%2?bn(e,!0).forEach(function(t){Object(dn.a)(n,t,e[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(n,Object.getOwnPropertyDescriptors(e)):bn(e).forEach(function(t){Object.defineProperty(n,t,Object.getOwnPropertyDescriptor(e,t))})}return n}var vn={posts:[],postView:null,isError404:!1,newCommentField:""},En=e(39),gn=Object(mn.c)(function(){var n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:vn,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"GET_LATEST_POSTS_ACTION":return hn({},n,{posts:t.payload});case"GET_POST_ACTION":return hn({},n,{postView:t.payload});case"GET_POST_ACTION_FAILED":return hn({},n,{isError404:t.payload});case"UPDATE_COMMENT_FIELD":return hn({},n,{newCommentField:t.payload});default:return n}},Object(mn.a)(En.a));c.a.render(o.a.createElement(F.a,{store:gn},o.a.createElement(fn,null),o.a.createElement(sn,null)),document.getElementById("root"))}},[[42,1,2]]]);
//# sourceMappingURL=main.67076ca4.chunk.js.map